# Routing

## How ARP is used in Datagram Forwarding
! Complete this

## ICMP = Internet Control Message Protocol
Accompanies IP by allowing routers or dest hosts to inform sender about unusual situations:
- No route to dest
- Dest host exists but not reachable
- Frag required but DF Set

> - ICMP messages are encapsulated in IP datagrams, (Courtesy protocol) and doesn't add any  
> additional mechanisms like error control.
> - Host must not rely on ICMP messages

! Look at Message Format

ICMP has type/code combinations
type | code | meaning
0    |  0   | echo Reply
3    |  0   | Dest net unreachable
...etc  

**Source-quench (type=4, code=0)**
- Generated by router when it drops packet due to congestion (to let source host throttle its rate).

**TTL expiration (type=11, code=0)**
- Generated when router drops packet because TTL reached 0. 

**Fragment reassembly timeout (type=11, code=1)**
- Generated by destintion when not all frags have been receieved within timeout.
- Invites higher layer protocol at sender to retrans msg  

> revise `traceroute` command

# Routing Basics
- shortest path
- Algorithms and protocols
- CIDR & addressing
- Address aggregation
- forwarding behaviour

### Shortest Path Routing

**Subnetworks** - The internet is made of subnetworks
- individual local area network.

**Routing** 
- The fundamental task of routing is finding an optimal path between a pair of nodes.
- A subnetwork is sometimes referred to as a link or hop.
- Routing in the internet is largely concerned with reaching subnetworks and not individual paths.     